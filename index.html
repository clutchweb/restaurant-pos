<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>The Titanic POS</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background: #f4f4f4;
    }
    header {
      background-color: #34495e;
      color: white;
      padding: 20px;
      text-align: center;
      font-size: 2em;
    }
    .container {
      display: flex;
      padding: 20px;
    }
    .categories {
      width: 60%;
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }
    .cart {
      width: 40%;
      background: white;
      padding: 10px;
      border-radius: 6px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .item-box,
    .modal-content {
      background: #fff;
      padding: 10px;
      border-radius: 6px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      position: relative;
      opacity: 0;
      transform: scale(0.95);
      transition: all 0.3s ease-in-out;
    }
    .item-box.show,
    .modal-content.show {
      display: block !important;
      opacity: 1;
      transform: scale(1);
    }
    .discount-btn {
      background-color: #2ecc71;
      color: white;
      border: none;
      border-radius: 4px;
      padding: 4px 8px;
      font-size: 1.2em;
      cursor: pointer;
      float: right;
      margin-top: -10px;
    }
    button {
      padding: 10px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }
    .category-btn {
      flex: 1 0 30%;
      padding: 15px;
      font-size: 1.1em;
      color: white;
    }
    .item-btn {
      display: block;
      width: 100%;
      margin: 5px 0;
    }
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0,0,0,0.5);
      justify-content: center;
      align-items: center;
    }
    table {
      width: 100%;
      border-collapse: collapse;
    }
    td {
      padding: 5px;
    }
    .remove-btn {
      background: red;
      color: white;
      border: none;
      border-radius: 4px;
      padding: 4px 8px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <header>The Titanic</header>
  <div class="container">
    <div class="categories" id="categoryContainer"></div>
    <div class="cart">
      <h3>Cart <button class="discount-btn" onclick="openDiscountPrompt()">＋</button></h3>
      <table>
        <tbody id="cartItems"></tbody>
      </table>
      <p>Total: <span id="totalAmount">$0.00</span></p>
      <select id="paymentMethod">
        <option value="Cash">Cash</option>
        <option value="Card">Card</option>
      </select>
      <button onclick="checkout()">Checkout</button>
    </div>
  </div>

  <div class="item-box" id="itemBox" style="display:none">
    <h4 id="itemBoxTitle"></h4>
    <button onclick="closeItemBox()">✖</button>
    <div id="itemButtons"></div>
  </div>

  <div class="modal" id="manualModal">
    <div class="modal-content">
      <h3>Add Manual Item</h3>
      <label>Name: <input type="text" id="manualName"></label><br>
      <label>Price: <input type="number" id="manualPrice"></label><br>
      <button onclick="addManualItem()">Add</button>
      <button onclick="closeManualEntry()">Cancel</button>
    </div>
  </div>

  <div class="modal" id="cashInputContainer">
    <div class="modal-content">
      <h3>Cash Received</h3>
      <input type="number" id="cashGiven" placeholder="Enter amount">
      <button onclick="processCash()">OK</button>
      <button onclick="closeCashInput()">✖</button>
    </div>
  </div>

  <script>
    const items = {
      Drinks: [
        { name: 'Coffee', price: 4 },
        { name: 'Tea', price: 3 }
      ],
      Food: [
        { name: 'Sandwich', price: 6 },
        { name: 'Burger', price: 8 }
      ]
    };

    const colors = {
      Drinks: '#3498db',
      Food: '#e67e22'
    };

    const categoryContainer = document.getElementById('categoryContainer');
    for (let cat in items) {
      const btn = document.createElement('button');
      btn.className = 'category-btn';
      btn.textContent = cat;
      btn.style.backgroundColor = colors[cat] || '#7f8c8d';
      btn.onclick = () => showItems(cat, colors[cat]);
      categoryContainer.appendChild(btn);
    }
  </script>
</body>
</html>
